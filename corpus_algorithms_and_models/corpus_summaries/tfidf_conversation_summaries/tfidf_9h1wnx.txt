Original Response:
When the substrate for your soul becomes ill, the soul tends to become ill in turn. A schizophrenic during crisis will have a harder time fighting violent impulses. Some would even argue that personal responsibility all but disappears. This tends to be recognized by legal systems. A depressive will fall guilty to the sins of sloth and despair more often than not, even while struggling against it. A man with cyclothymia or bipolar disorder will have a harder time maintaining healthy and loving relationships over time. We now know for certain that neurotransmitter levels can completely change personality and beliefs. 

Religious people and institutions have obviously always known about mental illness; they were often those who treated it; it might have been a reason for the catholic saying "of those who receive little, little will be asked". And yet... I still feel there's something off. 

Because if you begin to make particular exceptions when it comes to free will, you're essentially negating the immutability of free will. Free will ceases to be this everlasting component of the human mind and becomes a parameter subject to environmental or chemical influences. Once you have gone down that rabbit hole, there's no telling where you'll end. For starters, mental illness is a spectrum, not a clear-cut thing. There is such a thing as dysthymia, a milder but still pathological form of depression; some schizophrenics are less psychotic than others; etc. From there, it is easy to jump to social factors to explain away bad behavior and sin; "X commited this act of violence, but he was severely bullied for months beforehand", "X committed such crime but by looking at his childhood, you'll understand why", etc.

It seems to be that the most popular position in major religions right now is to take into account attenuating factors when judging moral responsibility. However, taking into account attenuating factors is a subjective process. God is the ultimate judge in these matters, but one may ask why he chose in the first place to create such a situation of unequal ability to resist sin... "He works in mysterious ways", I guess.

Summary:
However, taking into account attenuating factors is a subjective process.
